{% extends 'users/base.html' %}
{% load static %}

{% block title %}
<title xmlns="http://www.w3.org/1999/html">Регистрация пользователя</title>
{% endblock title %}

{% block content %}
<div>
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card mt-xl-4 mx-auto">
                <div class="card-header text-center">
                    <h3 class="my-1">Регистрация пользователя</h3>
                </div>
                <div class="card-body">
                    <form action="{% url 'users:registration' %}" method="post">
                        {% csrf_token %}
                        <div class="mb-3">
                            <label for="{{ form.email.id_for_label }}" class="form-label">Адрес
                                электронной почты <span class="text-danger"><b>*</b></span></label>
                            {{ form.email }}
                            {% for error in form.email.errors %}
                            <div class="error-message text-danger">{{ error }}</div>
                            {% endfor %}
                        </div>
                        <div class="mb-3">
                            <label for="{{ form.password1.id_for_label }}"
                                   class="form-label">Пароль <span class="text-danger"><b>*</b>
                            </span></label>
                            <!--                            {{ form.password1 }}-->
                            <input type="password" name="password1" placeholder="Введите пароль"
                                   class="form-control" required="" id="id_password1">
<!--                            <input type="checkbox" onclick="myFunction()">Show Password-->
                            <a href="#" class="password-control" onclick="return show_hide_password(this);"></a>
                            {% for error in form.password1.errors %}
                            <div class="error-message text-danger">{{ error }}</div>
                            {% endfor %}
                        </div>
                        <div class="mb-3">
                            <label for="{{ form.password2.id_for_label }}"
                                   class="form-label">Подтверждение пароля <span
                                    class="text-danger"><b>*</b></span></label>
                            {{ form.password2 }}
                            {% for error in form.password2.errors %}
                            <div class="error-message text-danger">{{ error }}</div>
                            {% endfor %}
                        </div>
                        <div class="mb-3">
                            <label for="{{ form.first_name.id_for_label }}"
                                   class="form-label">Имя <span
                                    class="text-danger"><b>*</b></span></label>
                            {{ form.first_name }}
                        </div>
                        <div class="mb-3">
                            <label for="{{ form.last_name.id_for_label }}"
                                   class="form-label">Фамилия <span
                                    class="text-danger"><b>*</b></span></label>
                            {{ form.last_name }}
                        </div>
                        <div>
                            <p class="text-danger">Обязательное поле к заполнению <span
                                    class="text-danger"><b>*</b></span></p>
                        </div>
                        <div class="text-center">
                            <button class="btn btn-miran" type="submit">Зарегистрироваться
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // function myFunction() {
    //     var x = document.getElementById("id_password1");
    //     if (x.type === "password") {
    //         x.type = "text";
    //     } else {
    //         x.type = "password";
    //     }
    // }

    function show_hide_password(target){
	var input = document.getElementById('id_password1');
	if (input.getAttribute('type') == 'password') {
		target.classList.add('view');
		input.setAttribute('type', 'text');
	} else {
		target.classList.remove('view');
		input.setAttribute('type', 'password');
	}
	return false;
}

</script>
{% endblock content %}
